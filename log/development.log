  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSites (20090620141656)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "sites" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "latitude" integer, "longitude" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090620141656')[0m
Migrating to CreateProposals (20090620141801)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" text, "site_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090620141801')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("sites")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:45:01) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "ssfs", site_id: 1, created_at: "2009-06-20 14:36:31", updated_at: "2009-06-20 14:36:31">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "ssfs", site_id: 1, created_at: "2009-06-20 14:36:31", updated_at: "2009-06-20 14:36:31">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (107.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:45:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
Rendering template within layouts/sites
Rendering sites/show
Completed in 81ms (View: 73, DB: 0) | 200 OK [http://0.0.0.0/sites/1]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:45:29) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "ssfs", site_id: 1, created_at: "2009-06-20 14:36:31", updated_at: "2009-06-20 14:36:31">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "ssfs", site_id: 1, created_at: "2009-06-20 14:36:31", updated_at: "2009-06-20 14:36:31">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (114.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSites (20090620141656)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "sites" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "latitude" integer, "longitude" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090620141656')[0m
Migrating to CreateProposals (20090620141801)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" text, "site_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090620141801')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("sites")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:49:08) [GET]
  Parameters: {"site_id"=>"1"}
  [4;35;1mSite Load (0.1ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Site with ID=1):
  app/controllers/proposals_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (37.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:49:09) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.1ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Site with ID=1):
  app/controllers/proposals_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (119.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing SitesController#index (for 127.0.0.1 at 2009-06-20 15:49:12) [GET]
  [4;35;1mSite Load (0.4ms)[0m   [0mSELECT * FROM "sites" [0m
Rendering template within layouts/sites
Rendering sites/index
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://0.0.0.0/sites/]


Processing SitesController#new (for 127.0.0.1 at 2009-06-20 15:49:14) [GET]
Rendering template within layouts/sites
Rendering sites/new
Completed in 36ms (View: 18, DB: 0) | 200 OK [http://0.0.0.0/sites/new]


Processing SitesController#create (for 127.0.0.1 at 2009-06-20 15:49:20) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"ZNjIMEzSrXFnvoL5Z3qLgZVC8+JFPYwkdfSW/z43G3M=", "site"=>{"latitude"=>"1", "description"=>"3", "longitude"=>"2"}}
  [4;36;1mSite Create (0.8ms)[0m   [0;1mINSERT INTO "sites" ("latitude", "created_at", "updated_at", "longitude", "description") VALUES(1, '2009-06-20 14:49:20', '2009-06-20 14:49:20', 2, '3')[0m
Redirected to http://0.0.0.0:3000/sites/1
Completed in 47ms (DB: 1) | 302 Found [http://0.0.0.0/sites]


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:49:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSite Load (0.6ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
Rendering template within layouts/sites
Rendering sites/show
Completed in 25ms (View: 6, DB: 1) | 200 OK [http://0.0.0.0/sites/1]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:49:24) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
Completed in 32ms (View: 21, DB: 0) | 200 OK [http://0.0.0.0/sites/1/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2009-06-20 15:49:25) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/new
Completed in 38ms (View: 18, DB: 0) | 200 OK [http://0.0.0.0/sites/1/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2009-06-20 15:49:28) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"ZNjIMEzSrXFnvoL5Z3qLgZVC8+JFPYwkdfSW/z43G3M=", "proposal"=>{"description"=>"sgsfsf"}, "site_id"=>"1"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Create (0.3ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "description", "site_id") VALUES('2009-06-20 14:49:28', '2009-06-20 14:49:28', 'sgsfsf', 1)[0m
Redirected to http://0.0.0.0:3000/sites/1/proposals/1
Completed in 31ms (DB: 1) | 302 Found [http://0.0.0.0/sites/1/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2009-06-20 15:49:28) [GET]
  Parameters: {"id"=>"1", "site_id"=>"1"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1 AND ("proposals".site_id = 1)) [0m
Rendering template within layouts/proposals
Rendering proposals/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (undefined method `site_edit_proposal_path' for #<ActionView::Base:0xb60d602c>) on line #12 of app/views/proposals/show.html.erb:
9: </p>
10: 
11: 
12: <%= link_to 'Edit', site_edit_proposal_path(@proposal) %> |
13: <%= link_to 'Back', site_proposals_path %>

    app/views/proposals/show.html.erb:12
    app/controllers/proposals_controller.rb:20:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2009-06-20 15:50:03) [GET]
  Parameters: {"id"=>"1", "site_id"=>"1"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1 AND ("proposals".site_id = 1)) [0m
Rendering template within layouts/proposals
Rendering proposals/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
Completed in 48ms (View: 15, DB: 1) | 200 OK [http://0.0.0.0/sites/1/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2009-06-20 15:50:21) [GET]
  Parameters: {"id"=>"1", "site_id"=>"1"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1 AND ("proposals".site_id = 1)) [0m
Rendering template within layouts/proposals
Rendering proposals/show
Completed in 25ms (View: 5, DB: 1) | 200 OK [http://0.0.0.0/sites/1/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:50:23) [GET]
  Parameters: {"site_id"=>"1"}
  [4;35;1mSite Load (0.7ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:50:26) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.6ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (116.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:50:33) [GET]
  Parameters: {"site_id"=>"1"}
  [4;35;1mSite Load (0.7ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:51:02) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (edit_site_proposal_url failed to generate from {:controller=>"proposals", :site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">, :action=>"edit"}, expected: {:controller=>"proposals", :action=>"edit"}, diff: {:site_id=>#<Proposal id: 1, description: "sgsfsf", site_id: 1, created_at: "2009-06-20 14:49:28", updated_at: "2009-06-20 14:49:28">}) on line #14 of app/views/proposals/index.html.erb:
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>
17: <% end %>

    (eval):16:in `edit_site_proposal_path'
    app/views/proposals/index.html.erb:14
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:51:28) [GET]
  Parameters: {"site_id"=>"1"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
Completed in 65ms (View: 9, DB: 1) | 200 OK [http://0.0.0.0/sites/1/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:52:10) [GET]
  Parameters: {"site_id"=>"1"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 1) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 1) [0m

ActionView::TemplateError (undefined method `name' for "#<Site:0xb5fa0608>":Site) on line #12 of app/views/proposals/index.html.erb:
9: <% @proposals.each do |proposal| %>
10:   <tr>
11:     <td><%=h proposal.description %></td>
12:     <td><%=h proposal.site.name %></td>
13:     <td><%= link_to 'Show', proposal %></td>
14:     <td><%= link_to 'Edit', edit_site_proposal_path(proposal.site,proposal) %></td>
15:     <td><%= link_to 'Destroy', proposal, :confirm => 'Are you sure?', :method => :delete %></td>

    app/views/proposals/index.html.erb:12
    app/views/proposals/index.html.erb:9:in `each'
    app/views/proposals/index.html.erb:9
    app/controllers/proposals_controller.rb:8:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (112.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SitesController#index (for 127.0.0.1 at 2009-06-20 15:52:17) [GET]
  [4;35;1mSite Load (0.7ms)[0m   [0mSELECT * FROM "sites" [0m
Rendering template within layouts/sites
Rendering sites/index
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://0.0.0.0/sites/]


Processing SitesController#index (for 127.0.0.1 at 2009-06-20 15:53:13) [GET]
  [4;36;1mSite Load (0.5ms)[0m   [0;1mSELECT * FROM "sites" [0m
Rendering template within layouts/sites
Rendering sites/index
Completed in 30ms (View: 5, DB: 1) | 200 OK [http://0.0.0.0/sites/]


Processing SitesController#new (for 127.0.0.1 at 2009-06-20 15:53:29) [GET]
Rendering template within layouts/sites
Rendering sites/new
Completed in 27ms (View: 9, DB: 0) | 200 OK [http://0.0.0.0/sites/new]


Processing SitesController#create (for 127.0.0.1 at 2009-06-20 15:53:36) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"ZNjIMEzSrXFnvoL5Z3qLgZVC8+JFPYwkdfSW/z43G3M=", "site"=>{"latitude"=>"55050", "description"=>"Somewhere", "longitude"=>"55020"}}
  [4;35;1mSite Create (0.6ms)[0m   [0mINSERT INTO "sites" ("latitude", "created_at", "updated_at", "longitude", "description") VALUES(55050, '2009-06-20 14:53:36', '2009-06-20 14:53:36', 55020, 'Somewhere')[0m
Redirected to http://0.0.0.0:3000/sites/2
Completed in 33ms (DB: 1) | 302 Found [http://0.0.0.0/sites]


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:53:36) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/sites
Rendering sites/show
Completed in 26ms (View: 6, DB: 1) | 200 OK [http://0.0.0.0/sites/2]


Processing SitesController#index (for 127.0.0.1 at 2009-06-20 15:53:38) [GET]
  [4;35;1mSite Load (1.5ms)[0m   [0mSELECT * FROM "sites" [0m
Rendering template within layouts/sites
Rendering sites/index
Completed in 30ms (View: 13, DB: 1) | 200 OK [http://0.0.0.0/sites]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:53:46) [GET]
  Parameters: {"site_id"=>"2"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/index
Completed in 74ms (View: 51, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2009-06-20 15:53:47) [GET]
  Parameters: {"site_id"=>"2"}
  [4;36;1mSite Load (0.6ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/new
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2009-06-20 15:53:50) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"ZNjIMEzSrXFnvoL5Z3qLgZVC8+JFPYwkdfSW/z43G3M=", "proposal"=>{"description"=>"sfjskfjskj"}, "site_id"=>"2"}
  [4;35;1mSite Load (0.6ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;36;1mProposal Create (0.6ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "description", "site_id") VALUES('2009-06-20 14:53:50', '2009-06-20 14:53:50', 'sfjskfjskj', 2)[0m
Redirected to http://0.0.0.0:3000/sites/2/proposals/2
Completed in 45ms (DB: 1) | 302 Found [http://0.0.0.0/sites/2/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2009-06-20 15:53:50) [GET]
  Parameters: {"id"=>"2", "site_id"=>"2"}
  [4;35;1mSite Load (0.7ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2 AND ("proposals".site_id = 2)) [0m
Rendering template within layouts/proposals
Rendering proposals/show
Completed in 53ms (View: 21, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals/2]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:53:52) [GET]
  Parameters: {"site_id"=>"2"}
  [4;35;1mSite Load (0.7ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Completed in 41ms (View: 12, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:56:29) [GET]
  Parameters: {"site_id"=>"2"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/index
Completed in 35ms (View: 23, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:56:30) [GET]
  Parameters: {"site_id"=>"2"}
  [4;36;1mSite Load (0.4ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/index
Completed in 41ms (View: 1, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2009-06-20 15:56:38) [GET]
  Parameters: {"site_id"=>"2"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
Rendering template within layouts/proposals
Rendering proposals/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendered proposals/_list (5.2ms)
Completed in 116ms (View: 12, DB: 1) | 200 OK [http://0.0.0.0/sites/2/proposals]


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:57:13) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/sites
Rendering sites/show
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://0.0.0.0/sites/2]


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:57:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mSite Load (0.7ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/sites
Rendering sites/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #6 of app/views/proposals/_list.erb:
3:     <th>Description</th>
4:   </tr>
5: 
6: <% @proposals.each do |proposal| %>
7:   <tr>
8:     <td><%=h proposal.description %></td>
9:     <td><%= link_to 'Show', proposal %></td>

    app/views/proposals/_list.erb:6
    app/views/sites/show.html.erb:16
    app/controllers/sites_controller.rb:18:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:57:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mSite Load (0.3ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/sites
Rendering sites/show
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m

ActionView::TemplateError (new_site_proposal_url failed to generate from {:controller=>"proposals", :action=>"new"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["sites", :site_id, "proposals", "new"] - are they all satisfied?) on line #18 of app/views/proposals/_list.erb:
15: 
16: <br />
17: 
18: <%= link_to 'New proposal', new_site_proposal_path %>

    (eval):20:in `new_site_proposal_path'
    app/views/proposals/_list.erb:18
    app/views/sites/show.html.erb:16
    app/controllers/sites_controller.rb:18:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SitesController#show (for 127.0.0.1 at 2009-06-20 15:58:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mSite Load (0.3ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendering template within layouts/sites
Rendering sites/show
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals".site_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "sites" WHERE ("sites"."id" = 2) [0m
Rendered proposals/_list (6.3ms)
Completed in 22ms (View: 14, DB: 1) | 200 OK [http://0.0.0.0/sites/2]
